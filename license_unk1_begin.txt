int __cdecl license_unk1(int dSerialNumber, int dCustomerNumber, char *lpMail)
{
  int v3; // eax@3
  int result; // eax@4
  int v5; // [sp+4h] [bp-Ch]@1
  int v6; // [sp+8h] [bp-8h]@1
  int v7; // [sp+Ch] [bp-4h]@1

  v5 = 0;
  v7 = 0;
  v6 = 0;
  if ( sub_4591F0(dSerialNumber, &v5, &v7, (int)&v6) && v5 == 4 )
  {
    v3 = sub_458FB0(dSerialNumber, lpMail);
    if ( v3 == dCustomerNumber )
      result = 3;
    else
      result = 2 - ((unsigned __int16)(dCustomerNumber ^ (unsigned __int16)v3) != 0);
  }
  else
  {
    result = 0;
  }
  return result;
}